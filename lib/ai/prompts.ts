// System and chain prompts for Chronicle AI
export const SYSTEM_PROMPT = `You are Chronicle's helpful AI assistant. You help users create engaging posts from chat conversations.`;

export const CHAT_CONTENT_JUDGMENT_PROMPT = (userMessages: string, user: string) => `
다음은 "${user}" 사용자가 채팅에서 입력한 메시지들입니다. 이 메시지들이 게시글로 변환할 만한 가치가 있는 내용인지 판단해주세요.

사용자 메시지들:
${userMessages}

판단 기준:
1. 구체적인 내용이나 경험이 포함되어 있는가?
2. 다른 사람들과 공유할 만한 가치가 있는 정보인가?
3. 단순한 인사나 "안녕하세요", "네", "아니요" 같은 짧은 응답만 있는가?
4. 의미 있는 주제나 관심사에 대한 언급이 있는가?
5. 개인적인 의견이나 생각이 표현되어 있는가?

다음 JSON 형식으로 응답해주세요:
{
  "hasContent": true/false,
  "reason": "판단 이유 (한국어로 간단히 설명)",
  "contentType": "경험/의견/정보/질문/기타 중 하나"
}
`;

export const CHAT_TO_POST_PROMPT = (userMessages: string, user: string) => `
다음은 "${user}" 사용자가 채팅에서 실제로 입력한 메시지들입니다. 이 메시지들을 그대로 게시글 형식으로 변환해주세요.

사용자 메시지들:
${userMessages}

중요한 요구사항:
1. 사용자가 실제로 한 말만 사용하세요
   - 사용자가 말하지 않은 내용을 추가하지 마세요
   - 사용자가 언급하지 않은 정보를 보완하지 마세요
   - 사용자의 원래 의도와 다른 방향으로 해석하지 마세요

2. 사용자의 말투와 표현을 그대로 유지하세요
   - 존댓말/반말 사용 패턴
   - 특별한 표현 방식이나 습관적 표현
   - 감정 표현 방식 (이모티콘, 감탄사 등)
   - 문장 구조와 어조

3. 게시글 형식으로 자연스럽게 정리하세요
   - 채팅의 흐름을 게시글의 논리적 구조로 재구성
   - 사용자의 말투와 표현을 그대로 유지
   - 마치 사용자가 직접 게시글을 작성한 것처럼 자연스럽게

4. 제목은 사용자가 직접 작성한 것처럼 자연스럽게 작성하세요
   - "[AI 생성]", "채팅 요약", "요약", "정리" 등의 단어 사용 금지
   - 사용자가 게시판에 글을 올릴 때 쓸 법한 자연스러운 제목
   - 사용자의 메시지에서 핵심 주제나 관심사를 반영
   - 질문형, 감탄형, 서술형 등 다양한 형태 가능
   - 10-30자 내외로 간결하게
   - 마치 사용자가 직접 제목을 정한 것처럼 자연스럽게
   
   제목 예시:
   - 질문형: "React 성능 최적화 방법 궁금해요"
   - 공유형: "오늘 프로젝트 진행상황 공유합니다"
   - 의견형: "이번 업데이트 정말 좋은 것 같아요"
   - 경험형: "새로운 라이브러리 사용해봤는데..."
   - 토론형: "이런 방식이 더 효율적일까요?"

5. 한국어로 작성하세요
6. 내용은 200-500자 내외로 작성하세요

제목과 내용을 다음과 같은 JSON 형식으로 응답해주세요:
{
  "title": "자연스러운 게시글 제목",
  "content": "게시글 내용 (HTML 형식 가능)"
}
`;

export const CHAT_SUMMARY_PROMPT = (chatMessages: string) => `
다음 채팅 내용을 요약해주세요.

채팅 내용:
${chatMessages}

요구사항:
1. 주요 논의 주제들을 파악하세요
2. 중요한 결정사항이나 결론을 정리하세요
3. 100-200자 내외로 간결하게 작성하세요
4. 한국어로 작성하세요
`;

export const POST_ANALYSIS_JUDGMENT_PROMPT = (postTitle: string, postContent: string) => `
다음 게시글이 AI 분석을 받을 만한 내용인지 엄격하게 판별해주세요.

게시글 제목: ${postTitle}
게시글 내용: ${postContent}

엄격한 판별 기준 (모든 조건을 만족해야 분석 대상):
1. 명확하고 구체적인 주장이나 논점이 제시되어 있는가?
   - 단순한 감정 표현이나 "좋다", "나쁘다" 같은 추상적 표현은 제외
   - 구체적인 근거나 예시가 제시되어야 함

2. 논리적 근거나 증거가 제시되어 있는가?
   - "~라고 생각한다"만으로는 부족
   - 구체적인 데이터, 경험, 사례가 있어야 함

3. 분석할 만한 논리적 구조나 논증이 있는가?
   - 단순한 나열이나 감정적 표현은 제외
   - 전제-논증-결론의 구조가 있어야 함

4. 실제로 검증 가능한 내용인가?
   - 주관적 감정이나 개인적 취향만으로는 부족
   - 객관적 검토가 가능한 내용이어야 함

5. 단순한 정보 공유, 질문, 일상 대화가 아닌가?
   - "어떻게 해야 하나요?" 같은 질문은 제외
   - "오늘 날씨가 좋네요" 같은 일상 대화는 제외

다음 JSON 형식으로 응답해주세요:
{
  "shouldAnalyze": true/false,
  "reason": "판별 이유 (한국어로 간단히 설명)",
  "contentType": "주장/의견/토론/정보/질문/기타 중 하나"
}
`;

export const ROOM_QUALITY_ANALYSIS_PROMPT = (posts: Array<{ title: string; content: string }>) => `
다음 방의 게시글들을 분석하여 방의 수준을 객관적으로 평가해주세요.

게시글 목록:
${posts.map((post, index) => `${index + 1}. 제목: ${post.title}\n   내용: ${post.content}`).join('\n\n')}

객관적 방의 수준 평가 기준 (각 항목별 0-100점, 매우 엄격한 기준 적용):

1. 내용의 깊이와 질 (Content Depth & Quality)
   - 구체적이고 검증 가능한 정보가 포함되어 있는가?
   - 단순한 질문이나 일상 대화가 아닌 의미 있는 내용인가?
   - 전문성이나 경험이 담긴 구체적인 내용인가?
   - 추상적이거나 모호한 표현이 아닌 명확한 내용인가?

2. 논리적 사고와 근거 (Logical Thinking & Evidence)
   - 주장에 대한 구체적이고 검증 가능한 근거가 제시되었는가?
   - 논리적 구조가 명확하고 일관성이 있는가?
   - 사실과 의견이 명확히 구분되어 있는가?
   - 논리적 오류나 비약이 없는가?

3. 토론과 상호작용 (Discussion & Interaction)
   - 실제로 의견 대립이 가능한 구체적인 논점이 있는가?
   - 건설적인 토론이 가능한 근거 기반 내용인가?
   - 다양한 관점을 고려한 균형 잡힌 내용인가?
   - 단순한 감정 표현이 아닌 논리적 토론 내용인가?

4. 창의성과 혁신성 (Creativity & Innovation)
   - 새로운 아이디어나 관점이 구체적으로 제시되었는가?
   - 기존과 다른 접근 방식을 명확히 제시하는가?
   - 창의적인 해결책이 실제로 적용 가능한가?
   - 단순한 아이디어 나열이 아닌 구체적인 방안인가?

5. 실용성과 적용 가능성 (Practicality & Applicability)
   - 실제로 적용 가능한 구체적인 방법이 제시되었는가?
   - 실무에 도움이 되는 검증된 정보인가?
   - 구체적인 방법론이나 단계별 가이드가 있는가?
   - 추상적인 조언이 아닌 실행 가능한 내용인가?

평가 주의사항:
- 작성자나 작성일은 평가에 영향을 주지 않음
- 내용의 수준과 가치만을 객관적으로 평가
- 과도하게 긍정적이거나 관대한 평가 금지
- 구체적이고 엄격한 기준 적용
- 실제 검증 가능한 내용만 높은 점수 부여

다음 JSON 형식으로 응답해주세요:
{
  "overallScore": 0-100,
  "scores": {
    "contentDepth": 0-100,
    "logicalThinking": 0-100,
    "discussion": 0-100,
    "creativity": 0-100,
    "practicality": 0-100
  },
  "analysis": {
    "strengths": ["구체적 강점 1", "구체적 강점 2", "구체적 강점 3"],
    "weaknesses": ["구체적 약점 1", "구체적 약점 2", "구체적 약점 3"],
    "recommendations": ["구체적 개선 제안 1", "구체적 개선 제안 2", "구체적 개선 제안 3"]
  },
  "summary": "방의 수준에 대한 객관적 평가 요약"
}
`;

export const POST_ANALYSIS_PROMPT = (postTitle: string, postContent: string) => `
다음 게시글을 비판적이고 엄격하게 분석하고 검증해주세요.

게시글 제목: ${postTitle}
게시글 내용: ${postContent}

비판적 분석 기준:

1. 논쟁 가능성 분석 (엄격한 기준)
   - 실제로 의견 대립이 가능한 구체적인 논점이 있는가?
   - 단순한 취향이나 감정 차이가 아닌 근본적인 관점 차이가 있는가?
   - 객관적 검증이 가능한 주장인가?

2. 내용성 검증 (매우 엄격한 기준)
   - 주장에 대한 구체적이고 검증 가능한 근거가 제시되었는가?
   - 사실과 의견이 명확히 구분되어 있는가?
   - 논리적 오류나 비약이 없는가?
   - 반대 의견이나 대안적 관점을 고려했는가?
   - 근거의 신뢰성과 관련성이 충분한가?

3. 비판적 개선 제안
   - 논리적 허점이나 비약 지점을 지적하라
   - 부족한 근거나 반박 가능한 부분을 찾아라
   - 대안적 관점이나 반대 의견을 제시하라
   - 더 엄밀한 검증이 필요한 부분을 지적하라

주의사항:
- 과도하게 긍정적이거나 관대한 평가 금지
- 구체적이고 비판적인 지적 필요
- "다양한 관점이 있다" 같은 모호한 표현 지양
- 실제 논리적 문제점을 명확히 지적

다음 JSON 형식으로 응답해주세요:
{
  "hasDebatableContent": true/false,
  "contentValidity": "high/medium/low",
  "analysis": {
    "controversy": "논쟁 가능성에 대한 비판적 분석 (구체적 지적 포함)",
    "validity": "내용성 검증 결과 (논리적 문제점 명시)",
    "suggestions": "비판적 개선 제안 (구체적 문제점과 해결방안)"
  },
  "summary": "전체 비판적 분석 요약"
}
`;

